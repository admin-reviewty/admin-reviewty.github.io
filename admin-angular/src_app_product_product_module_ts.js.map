{"version":3,"file":"src_app_product_product_module_ts.js","mappings":"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","sources":["./src/app/product/components/ingredient-analysis/ingredient-analysis.component.ts","./src/app/product/components/ingredient-analysis/ingredient-analysis.component.html","./src/app/product/pages/product-details/product-details.component.ts","./src/app/product/pages/product-details/product-details.component.html","./src/app/product/pages/product-list/product-list.component.ts","./src/app/product/pages/product-list/product-list.component.html","./src/app/product/pages/product-request-list/product-request-list.component.ts","./src/app/product/pages/product-request-list/product-request-list.component.html","./src/app/product/product-routing.module.ts","./src/app/product/product.component.ts","./src/app/product/product.component.html","./src/app/product/product.module.ts"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { NzDrawerRef } from 'ng-zorro-antd/drawer';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { AnalyzeIngredientsGQL } from '../../../../graphql/graphql';\n\nconst CosDNARegExp = /(.+?)[\\r\\n]+.*?[\\r\\n]?\\t(.*?)\\t(.*?)\\t(.*?)\\t(.*)/g;\nconst SkincarismaRegExp = /(\\d?)[\\r\\n]+\\t(.*?)[\\r\\n]+\\t(.*?)[\\r\\n]+/g;\n\nenum IngredientSource {\n  COSDNA = 1,\n  SKINCARISMA = 2,\n  OTHER = 3,\n}\n\ninterface IngredientRow {\n  source: string;\n  id?: number;\n  target?: string;\n  ewg?: string;\n  checked: boolean;\n  disabled: boolean;\n}\n\nexport interface IngredientAnalysisData {\n  allChecked: boolean;\n  searchText?: string;\n  analyzedResult?: Array<IngredientRow>;\n  newSelectedIngredients?: Array<IngredientRow>;\n}\n\n@Component({\n  selector: 'app-ingredient-analysis',\n  templateUrl: './ingredient-analysis.component.html',\n  styleUrls: ['./ingredient-analysis.component.scss'],\n})\nexport class IngredientAnalysisComponent implements OnInit, OnDestroy {\n  IngredientSource = IngredientSource;\n  destroy$: Subject<boolean>;\n\n  searchText?: string;\n  analyzing?: IngredientSource;\n  analyzedResult?: Array<IngredientRow>;\n  allChecked = true;\n  selectedIngredients: Set<number> = new Set();\n\n  constructor(\n    private analyzeIngredientsGQL: AnalyzeIngredientsGQL,\n    private msgService: NzMessageService,\n    private translateService: TranslateService,\n    private drawerRef: NzDrawerRef<\n      IngredientAnalysisComponent,\n      IngredientAnalysisData\n    >,\n  ) {\n    this.destroy$ = new Subject();\n  }\n\n  ngOnInit(): void {\n    if (!this.analyzedResult || !this.selectedIngredients) {\n      return;\n    }\n    this.analyzedResult = this.analyzedResult.map((ingredient) => {\n      ingredient.checked = this.selectedIngredients.has(ingredient.id || 0);\n      ingredient.disabled =\n        this.selectedIngredients.has(ingredient.id || 0) || !ingredient.id;\n      return ingredient;\n    });\n  }\n\n  analyzeIngredients(source: IngredientSource): void {\n    this.analyzing = source;\n    if (!this.searchText) {\n      this.analyzing = undefined;\n      return;\n    }\n\n    let ingredients: string;\n    const names: Array<string> = [];\n    if (source !== IngredientSource.OTHER) {\n      const regex =\n        source === IngredientSource.COSDNA ? CosDNARegExp : SkincarismaRegExp;\n      let array;\n      while (true) {\n        array = regex.exec(this.searchText);\n        if (!array) {\n          break;\n        }\n        names.push(array[source === IngredientSource.COSDNA ? 1 : 3]);\n      }\n      ingredients = names.join(';');\n    } else {\n      ingredients = this.searchText;\n      names.push(...ingredients.split(';'));\n    }\n    this.analyzeIngredientsGQL\n      .watch(\n        {\n          text: ingredients,\n        },\n        {\n          notifyOnNetworkStatusChange: true,\n          errorPolicy: 'all',\n        },\n      )\n      .valueChanges.pipe(takeUntil(this.destroy$))\n      .subscribe(({ data, loading, errors, error }) => {\n        this.analyzing = (loading && source) || undefined;\n        if (loading) {\n          return;\n        }\n\n        if (error || errors) {\n          this.msgService.error(\n            this.translateService.instant('ui.message.error'),\n          );\n          return;\n        }\n\n        if (data) {\n          this.analyzedResult = data.analyzeIngredients.ingredients.map(\n            (ingredient, index) => {\n              return {\n                id: ingredient?.id,\n                source: names[index],\n                target: ingredient?.translations?.[0].name,\n                ewg: ingredient?.ewg || undefined,\n                checked: !!ingredient,\n                disabled:\n                  !ingredient || this.selectedIngredients.has(ingredient.id),\n              };\n            },\n          );\n        }\n      });\n  }\n\n  checkAllIngredients(value: boolean): void {\n    this.analyzedResult?.forEach((ingredient) => {\n      if (ingredient.id) {\n        ingredient.checked = value;\n      }\n    });\n    this.refreshStatus();\n  }\n\n  refreshStatus(): void {\n    const validData = this.analyzedResult?.filter((value) => !!value.id) || [];\n    this.allChecked =\n      validData.length > 0 &&\n      validData.every((value) => value.checked === true);\n  }\n\n  pickAnalyzedIngredients(): void {\n    if (!this.analyzedResult?.length) {\n      return;\n    }\n    this.drawerRef.close(this.backupData(false));\n  }\n\n  cancel(): void {\n    this.drawerRef.close(this.backupData(true));\n  }\n\n  private backupData(cancelled: boolean): IngredientAnalysisData {\n    return {\n      allChecked: this.allChecked,\n      searchText: this.searchText,\n      analyzedResult: this.analyzedResult,\n      newSelectedIngredients: cancelled\n        ? []\n        : this.analyzedResult?.filter((i) => i.checked && !i.disabled),\n    };\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.unsubscribe();\n  }\n}\n","<nz-form-control class=\"mb-2\">\n  <textarea\n    nz-input\n    [nzAutosize]=\"{ minRows: 5, maxRows: 10 }\"\n    [(ngModel)]=\"searchText\"\n  ></textarea>\n</nz-form-control>\n<nz-input-group class=\"mb-2\">\n  <button\n    nz-button\n    nzType=\"dashed\"\n    type=\"button\"\n    class=\"mr-2\"\n    (click)=\"analyzeIngredients(IngredientSource.COSDNA)\"\n    [nzLoading]=\"analyzing === IngredientSource.COSDNA\"\n  >\n    <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>CosDNA\n  </button>\n  <button\n    nz-button\n    nzType=\"dashed\"\n    type=\"button\"\n    class=\"mr-2\"\n    (click)=\"analyzeIngredients(IngredientSource.SKINCARISMA)\"\n    [nzLoading]=\"analyzing === IngredientSource.SKINCARISMA\"\n  >\n    <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>Skincarisma\n  </button>\n  <button\n    nz-button\n    nzType=\"dashed\"\n    type=\"button\"\n    (click)=\"analyzeIngredients(IngredientSource.OTHER)\"\n    [nzLoading]=\"analyzing === IngredientSource.OTHER\"\n  >\n    <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i\n    >{{ 'common.other' | translate }}\n  </button>\n</nz-input-group>\n<nz-table\n  #table\n  [nzData]=\"analyzedResult || []\"\n  [hidden]=\"!analyzedResult\"\n  [nzPageSize]=\"10\"\n>\n  <thead>\n    <tr>\n      <th\n        nzWidth=\"60px\"\n        [nzLeft]=\"true\"\n        (nzCheckedChange)=\"checkAllIngredients($event)\"\n        [(nzChecked)]=\"allChecked\"\n      ></th>\n      <th>Source</th>\n      <th>Target</th>\n      <th [nzLeft]=\"true\">ID</th>\n      <th [nzLeft]=\"true\">EWG</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let ingredient of table.data\">\n      <td\n        [nzLeft]=\"true\"\n        [(nzChecked)]=\"ingredient.checked\"\n        [nzDisabled]=\"ingredient.disabled\"\n        (nzCheckedChange)=\"refreshStatus()\"\n      ></td>\n      <td>\n        {{ ingredient?.source }}\n      </td>\n      <td>\n        {{ ingredient?.target }}\n      </td>\n      <td [nzLeft]=\"true\">{{ ingredient?.id }}</td>\n      <td [nzLeft]=\"true\">{{ ingredient?.ewg }}</td>\n    </tr>\n  </tbody>\n</nz-table>\n<!-- TODO: should use *nzDrawerFooter when https://github.com/NG-ZORRO/ng-zorro-antd/issues/6490 completed. -->\n<div>\n  <button nz-button class=\"mr-2\" (click)=\"cancel()\">\n    {{ 'common.cancel' | translate }}\n  </button>\n  <button\n    nz-button\n    type=\"button\"\n    nzType=\"primary\"\n    (click)=\"pickAnalyzedIngredients()\"\n  >\n    {{ 'product.import_ingredients' | translate }}\n  </button>\n</div>\n","import { HttpClient } from '@angular/common/http';\nimport { Location } from '@angular/common';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { NzTreeNodeOptions } from 'ng-zorro-antd/tree';\nimport { NzUploadFile } from 'ng-zorro-antd/upload';\nimport { of, Subject, Observable } from 'rxjs';\nimport { mergeMap, takeUntil } from 'rxjs/operators';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { TranslateService } from '@ngx-translate/core';\nimport _ from 'lodash';\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nimport { NzDrawerService } from 'ng-zorro-antd/drawer';\n\nimport { environment } from '../../../../environments/environment';\nimport {\n  CreateProductGQL,\n  GetHierarchicalCategoriesGQL,\n  GetProductDetailsQuery,\n  ImageCreateWithoutProductInput,\n  LanguageCode,\n  PackagingtUnit,\n  ProductStatus,\n  Unit,\n  UpdateProductGQL,\n  SearchIngredientTranslationFragment,\n} from '../../../../graphql/graphql';\nimport { FileService } from '../../../shared/services/file/file.service';\nimport { StringService } from '../../../shared/services/string/string.service';\nimport { LanguageService } from '../../../shared/services/language/language.service';\nimport {\n  IngredientAnalysisComponent,\n  IngredientAnalysisData,\n} from '../../components/ingredient-analysis/ingredient-analysis.component';\nimport { UnitConverterService } from '../../../ingredient/services/unit-converter/unit-converter.service';\n\nconst IU = 'IU';\n\ninterface IngredientRow {\n  id: number;\n  name?: string;\n  amount?: number;\n  amountUnit?: Unit | typeof IU;\n}\n\n@Component({\n  selector: 'app-product-details',\n  templateUrl: './product-details.component.html',\n  styleUrls: ['./product-details.component.scss'],\n})\nexport class ProductDetailsComponent implements OnInit, OnDestroy {\n  ProductStatus = ProductStatus;\n  units: Array<Unit | typeof IU> = [...Object.values(Unit), IU];\n  packagingUnits: PackagingtUnit[] = Object.values(PackagingtUnit);\n  destroy$: Subject<boolean>;\n  product: GetProductDetailsQuery['product'];\n  validateForm!: FormGroup;\n  thumbnailFile?: NzUploadFile;\n  thumbnailImage?: ImageCreateWithoutProductInput;\n  loading = false;\n\n  selectedIngredients: SearchIngredientTranslationFragment[] = [];\n  ingredientAnalysisData?: IngredientAnalysisData;\n\n  categories: Array<NzTreeNodeOptions> = [];\n  languages: Map<LanguageCode, number>;\n  formatterVnd = (value: number) => ` ${value}`;\n\n  constructor(\n    private fb: FormBuilder,\n    private route: ActivatedRoute,\n    private getHierarchicalCategoriesGQL: GetHierarchicalCategoriesGQL,\n    private httpClient: HttpClient,\n    private location: Location,\n    private fileService: FileService,\n    private createProductGQL: CreateProductGQL,\n    private updateProductGQL: UpdateProductGQL,\n    private msgService: NzMessageService,\n    private translateService: TranslateService,\n    private stringService: StringService,\n    private languageService: LanguageService,\n    private breakpointObserver: BreakpointObserver,\n    private drawerService: NzDrawerService,\n    private unitConverter: UnitConverterService,\n  ) {\n    this.destroy$ = new Subject();\n    this.validateForm = this.fb.group({\n      name: [null, Validators.required],\n      description: [null, Validators.required],\n      slug: [null, Validators.required],\n      price: [null, Validators.required],\n      measure: [null, Validators.required],\n      status: [true, Validators.required],\n      categories: [[], Validators.required],\n      brand: [null, Validators.required],\n      ingredients: this.fb.array([]),\n      barcodes: [[]],\n      rdi: [null],\n      packagingUnit: [null],\n      netWeightPerPackage: [null],\n      weightUnit: [null],\n      netVolumePerPackage: [null],\n      volumeUnit: [null],\n      energyPerPackage: [null],\n      energyUnit: [null],\n    });\n    this.languages = new Map();\n    this.languages.set(LanguageCode.Vi, 1);\n    this.languages.set(LanguageCode.En, 2);\n  }\n\n  ngOnInit(): void {\n    this.route.data.pipe(takeUntil(this.destroy$)).subscribe(({ product }) => {\n      this.product = product;\n      this.thumbnailImage =\n        (this.product?.thumbnail && {\n          url: this.product.thumbnail.url,\n          name: this.product.thumbnail.name,\n          width: this.product.thumbnail.width || 0,\n          height: this.product.thumbnail.height || 0,\n        }) ||\n        undefined;\n      if (this.product?.videoTitle || this.product?.videoUrl) {\n        this.addVideo();\n      }\n      if (\n        // tslint:disable-next-line: deprecation\n        this.product?.id &&\n        this.product?.translations?.[0]?.imageDescription\n      ) {\n        this.addImageDescription();\n      }\n      this.validateForm.patchValue({\n        name: this.product?.translations?.[0]?.name,\n        description: this.product?.translations?.[0]?.description,\n        imageDescription: this.product?.translations?.[0]?.imageDescription,\n        slug: this.product?.translations?.[0]?.slug,\n        price: this.product?.price || '',\n        measure: this.product?.measure,\n        status: this.product?.status === ProductStatus.Active,\n        videoUrl: this.product?.videoUrl,\n        videoTitle: this.product?.videoTitle,\n        packagingUnit: this.product?.attributes?.packagingUnit,\n        rdi: this.product?.attributes?.rdi,\n        netWeightPerPackage: this.product?.attributes?.netWeightPerPackage,\n        weightUnit: this.product?.attributes?.weightUnit,\n        netVolumePerPackage: this.product?.attributes?.netVolumePerPackage,\n        volumeUnit: this.product?.attributes?.volumeUnit,\n        energyPerPackage: this.product?.attributes?.energyPerPackage,\n        energyUnit: this.product?.attributes?.energyUnit,\n        categories:\n          this.product?.categories?.map(\n            // tslint:disable-next-line: deprecation\n            (category) => `${category.id}`,\n          ) || [],\n        brand: {\n          name: this.product?.brand?.translations?.[0]?.name,\n          brand: {\n            // tslint:disable-next-line: deprecation\n            id: this.product?.brand?.id,\n          },\n        },\n        barcodes: this.product?.barcodes || [],\n      });\n      this.validateForm.setControl(\n        'ingredients',\n        this.fb.array(\n          _.sortBy(\n            this.product?.productToIngredients?.map((pti) => {\n              return this.fb.group(\n                this.unitConverter.convert(\n                  {\n                    id: pti.ingredient.id,\n                    name: this.languageService.pick(\n                      this.languages,\n                      pti.ingredient.translations,\n                    )?.name,\n                    amount: pti.attributes?.amount || undefined,\n                    amountUnit: pti.attributes?.amountUnit || undefined,\n                  },\n                  'source',\n                ),\n              );\n            }) || [],\n            'value.name',\n          ),\n        ),\n      );\n    });\n\n    this.getHierarchicalCategoriesGQL\n      .fetch()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(({ data, error, errors }) => {\n        if (error || errors) {\n        }\n\n        if (data) {\n          this.categories = data.categories.map((category) => {\n            return {\n              // tslint:disable-next-line: deprecation\n              key: `${category.id}`,\n              title: category.translations?.[0]?.name,\n              isLeaf: false,\n              children: category.children?.map((child) => {\n                return {\n                  // tslint:disable-next-line: deprecation\n                  key: `${child.id}`,\n                  title: child.translations?.[0]?.name,\n                  isLeaf: true,\n                };\n              }),\n            };\n          });\n        }\n      });\n  }\n\n  beforeUploadThumbnail = (file: NzUploadFile): boolean => {\n    this.thumbnailFile = file;\n    this.fileService.getBase64(\n      file as unknown as File,\n      (img: string, width: number, height: number) => {\n        this.thumbnailImage = {\n          url: img,\n          name: this.thumbnailFile?.filename || '',\n          width,\n          height,\n        };\n      },\n    );\n    return false;\n  };\n\n  handleUploadImage = (\n    blogInfo: any,\n    success: (url: string) => void,\n    failure: (error: any) => void,\n  ): void => {\n    const data = new FormData();\n    data.append('file', blogInfo.blob());\n    this.httpClient\n      .post(`${environment.apiUri}/single-upload?useWatermark=false`, data)\n      .subscribe(\n        (response: any) => {\n          success(response.url);\n        },\n        (error) => {\n          failure(error);\n        },\n      );\n  };\n\n  addVideo(): void {\n    this.validateForm.addControl(\n      'videoTitle',\n      this.fb.control(this.product?.videoTitle),\n    );\n    this.validateForm.addControl(\n      'videoUrl',\n      this.fb.control(this.product?.videoUrl),\n    );\n  }\n\n  removeVideo(): void {\n    this.validateForm.removeControl('videoTitle');\n    this.validateForm.removeControl('videoUrl');\n  }\n\n  addImageDescription(): void {\n    this.validateForm.addControl(\n      'imageDescription',\n      this.fb.control(this.product?.translations?.[0]?.imageDescription),\n    );\n  }\n\n  removeImageDescription(): void {\n    this.validateForm.removeControl('imageDescription');\n  }\n\n  isSmallDevice(): boolean {\n    return this.breakpointObserver.isMatched([\n      Breakpoints.XSmall,\n      Breakpoints.Small,\n    ]);\n  }\n\n  openIngredientAnalysis(): void {\n    const drawerRef = this.drawerService.create<\n      IngredientAnalysisComponent,\n      undefined,\n      IngredientAnalysisData\n    >({\n      nzTitle: this.translateService.instant('product.analyze_ingredient'),\n      nzContentParams: {\n        selectedIngredients: new Set<number>(\n          this.ingredients.value.map((i: IngredientRow) => i.id),\n        ),\n        ...(this.ingredientAnalysisData || {}),\n      },\n      nzContent: IngredientAnalysisComponent,\n      nzMaskClosable: false,\n      nzWidth: this.breakpointObserver.isMatched([\n        Breakpoints.XSmall,\n        Breakpoints.Small,\n      ])\n        ? '100%'\n        : '50%',\n    });\n    drawerRef.afterClose.subscribe((data) => {\n      this.ingredientAnalysisData = data;\n      if (!data?.newSelectedIngredients?.length) {\n        return;\n      }\n      data.newSelectedIngredients?.forEach((ingredient) => {\n        this.ingredients.push(\n          this.fb.group({\n            id: ingredient.id,\n            name: ingredient.target,\n            amount: null,\n            amountUnit: null,\n          }),\n        );\n      });\n      this.ingredients.controls.sort((c1, c2) => {\n        return (c1.value.name || '').localeCompare(c2.value.name);\n      });\n      this.ingredients.controls = [...this.ingredients.controls];\n    });\n  }\n\n  addIngredients(): void {\n    if (!this.selectedIngredients.length) {\n      return;\n    }\n    this.selectedIngredients.forEach((it) => {\n      this.ingredients.push(\n        this.fb.group({\n          id: it.ingredient.id,\n          name: it.name,\n          amount: null,\n          amountUnit: null,\n        }),\n      );\n    });\n    this.ingredients.controls.sort((c1, c2) => {\n      return (c1.value.name || '').localeCompare(c2.value.name);\n    });\n    this.ingredients.controls = [...this.ingredients.controls];\n    this.selectedIngredients = [];\n  }\n\n  removeIngredient(index: number): void {\n    this.ingredients.removeAt(index);\n    this.ingredients.controls = [...this.ingredients.controls];\n  }\n\n  get ingredients(): FormArray {\n    return this.validateForm.get('ingredients') as FormArray;\n  }\n\n  generateSlug(): void {\n    const name = this.validateForm.get('name')?.value;\n    if (!name?.trim().length) {\n      return;\n    }\n    this.validateForm.patchValue({\n      slug: this.stringService.stringToSlug(name),\n    });\n  }\n\n  submitForm(): void {\n    Object.values(this.validateForm.controls).forEach((control) => {\n      control.markAsDirty();\n      control.updateValueAndValidity();\n    });\n\n    if (this.validateForm.invalid) {\n      return;\n    }\n\n    this.loading = true;\n\n    let coverObservable: Observable<{\n      id?: number;\n      name?: string;\n      url: string;\n    }>;\n    if (this.thumbnailFile) {\n      const formData = new FormData();\n      formData.append('file', this.thumbnailFile as unknown as File);\n      coverObservable = this.httpClient.post<{ url: string }>(\n        `${environment.apiUri}/single-upload?useWatermark=false`,\n        formData,\n      );\n    } else {\n      coverObservable = of({\n        id: this.product?.thumbnail?.id,\n        url: this.product?.thumbnail?.url || '',\n      });\n    }\n\n    coverObservable\n      .pipe(\n        takeUntil(this.destroy$),\n        mergeMap(({ id, url }) => {\n          const ingredients: Array<IngredientRow> =\n            this.validateForm.get('ingredients')?.value;\n          const inputData = {\n            status: this.validateForm.get('status')?.value\n              ? ProductStatus.Active\n              : ProductStatus.Inactive,\n            price: this.validateForm.get('price')?.value,\n            measure: this.validateForm.get('measure')?.value,\n            videoTitle: this.validateForm.get('videoTitle')?.value,\n            videoUrl: this.validateForm.get('videoUrl')?.value,\n            brand: {\n              connect: {\n                id: this.validateForm.get('brand')?.value.brand.id,\n              },\n            },\n            attribute: {\n              create: {\n                rdi: this.validateForm.get('rdi')?.value,\n                packagingUnit: this.validateForm.get('packagingUnit')?.value,\n                netWeightPerPackage: this.validateForm.get(\n                  'netWeightPerPackage',\n                )?.value,\n                weightUnit: this.validateForm.get('weightUnit')?.value,\n                netVolumePerPackage: this.validateForm.get(\n                  'netVolumePerPackage',\n                )?.value,\n                volumeUnit: this.validateForm.get('volumeUnit')?.value,\n                energyPerPackage:\n                  this.validateForm.get('energyPerPackage')?.value,\n                energyUnit: this.validateForm.get('energyUnit')?.value,\n              },\n            },\n          };\n\n          // tslint:disable-next-line: deprecation\n          if (this.product?.id) {\n            return this.updateProductGQL.mutate(\n              {\n                where: {\n                  // tslint:disable-next-line: deprecation\n                  id: this.product.id,\n                },\n                data: {\n                  ...inputData,\n                  categories: {\n                    set: this.validateForm\n                      .get('categories')\n                      ?.value.map((value: string) => ({\n                        id: +value,\n                      })),\n                  },\n                  barcodes: {\n                    create: this.validateForm\n                      .get('barcodes')\n                      ?.value?.filter((barcode: any) => barcode.label)\n                      .map((barcode: any) => ({\n                        value: barcode.label,\n                      })),\n                    set: this.validateForm\n                      .get('barcodes')\n                      ?.value?.filter((barcode: any) => barcode.id)\n                      .map((barcode: any) => ({\n                        id: barcode.id,\n                      })),\n                  },\n                  thumbnail: {\n                    connect:\n                      (id && {\n                        id,\n                      }) ||\n                      undefined,\n                    create:\n                      (!id &&\n                        this.thumbnailImage && {\n                          ...this.thumbnailImage,\n                          url,\n                        }) ||\n                      undefined,\n                  },\n                  productToIngredients: {\n                    create: ingredients.map((pti) => {\n                      const targetPti = this.unitConverter.convert(\n                        pti,\n                        'target',\n                      );\n                      return {\n                        ingredientId: targetPti.id,\n                        attribute:\n                          (pti.amount && {\n                            create: {\n                              amount: targetPti.amount,\n                              amountUnit: targetPti.amountUnit as Unit,\n                            },\n                          }) ||\n                          undefined,\n                      };\n                    }),\n                  },\n                  translations: {\n                    create:\n                      (!this.product?.translations?.[0] && [\n                        {\n                          name: this.validateForm.get('name')?.value,\n                          description:\n                            this.validateForm.get('description')?.value,\n                          language: LanguageCode.Vi,\n                          isOriginal: true,\n                          imageDescription:\n                            this.validateForm.get('imageDescription')?.value ||\n                            null,\n                          slug: this.validateForm.get('slug')?.value,\n                        },\n                      ]) ||\n                      undefined,\n                    set: this.product?.translations?.[0] && [\n                      {\n                        id: this.product.translations[0].id,\n                        name: this.validateForm.get('name')?.value,\n                        description:\n                          this.validateForm.get('description')?.value,\n                        language: LanguageCode.Vi,\n                        isOriginal: true,\n                        imageDescription:\n                          this.validateForm.get('imageDescription')?.value ||\n                          null,\n                        slug: this.validateForm.get('slug')?.value,\n                      },\n                    ],\n                  },\n                },\n              },\n              {\n                errorPolicy: 'all',\n              },\n            );\n          } else {\n            return this.createProductGQL.mutate(\n              {\n                data: {\n                  ...inputData,\n                  categories: {\n                    connect: this.validateForm\n                      .get('categories')\n                      ?.value.map((value: string) => ({\n                        id: +value,\n                      })),\n                  },\n                  barcodes: {\n                    create: this.validateForm\n                      .get('barcodes')\n                      ?.value.map((barcode: any) => ({\n                        value: barcode.label,\n                      })),\n                  },\n                  thumbnail: {\n                    create: this.thumbnailImage && {\n                      ...this.thumbnailImage,\n                      url,\n                    },\n                  },\n                  productToIngredients: {\n                    create: ingredients.map((pti) => {\n                      const targetPti = this.unitConverter.convert(\n                        pti,\n                        'target',\n                      );\n                      return {\n                        ingredientId: targetPti.id,\n                        attribute:\n                          (pti.amount && {\n                            create: {\n                              amount: targetPti.amount,\n                              amountUnit: targetPti.amountUnit as Unit,\n                            },\n                          }) ||\n                          undefined,\n                      };\n                    }),\n                  },\n                  translations: {\n                    create: [\n                      {\n                        name: this.validateForm.get('name')?.value,\n                        description:\n                          this.validateForm.get('description')?.value,\n                        language: LanguageCode.Vi,\n                        isOriginal: true,\n                        imageDescription:\n                          this.validateForm.get('imageDescription')?.value ||\n                          null,\n                        slug: this.validateForm.get('slug')?.value,\n                      },\n                    ],\n                  },\n                },\n              },\n              {\n                errorPolicy: 'all',\n              },\n            );\n          }\n        }),\n      )\n      .subscribe(\n        ({ errors, data }) => {\n          if (errors) {\n            this.msgService.error(\n              this.translateService.instant(\n                `product.${this.product?.id ? 'update' : 'create'}_error`,\n              ),\n            );\n          }\n\n          if (data) {\n            this.msgService.success(\n              this.translateService.instant(\n                `product.${this.product?.id ? 'update' : 'create'}_success`,\n              ),\n            );\n            this.location.back();\n          }\n          this.loading = false;\n        },\n        () => {\n          this.msgService.error(\n            this.translateService.instant(\n              `product.${this.product?.id ? 'update' : 'create'}_error`,\n            ),\n          );\n          this.loading = false;\n        },\n      );\n  }\n\n  cancel(): void {\n    this.location.back();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.unsubscribe();\n  }\n}\n","<nz-page-header class=\"site-page-header\">\n  <nz-breadcrumb nz-page-header-breadcrumb>\n    <nz-breadcrumb-item>\n      <i nz-icon nzType=\"home\"></i>\n    </nz-breadcrumb-item>\n    <nz-breadcrumb-item>\n      <a routerLink=\"/products\">{{ 'common.product' | translate }}</a>\n    </nz-breadcrumb-item>\n    <nz-breadcrumb-item>\n      <a>{{ (product?.translations || [])[0]?.name }}</a>\n    </nz-breadcrumb-item>\n  </nz-breadcrumb>\n</nz-page-header>\n<form\n  nz-form\n  [nzLayout]=\"'vertical'\"\n  [formGroup]=\"validateForm\"\n  (ngSubmit)=\"submitForm()\"\n>\n  <nz-card class=\"mb-3\">\n    <nz-form-item>\n      <nz-form-label>{{ 'product.name' | translate }}</nz-form-label>\n      <nz-form-control\n        nzHasFeedback\n        nzErrorTip=\"{{ 'ui.form.should_not_be_empty' | translate }}\"\n      >\n        <input nz-input formControlName=\"name\"\n      /></nz-form-control>\n    </nz-form-item>\n    <nz-form-item>\n      <nz-form-label>{{ 'product.description' | translate }}</nz-form-label>\n      <nz-form-control\n        nzHasFeedback\n        nzErrorTip=\"{{ 'ui.form.should_not_be_empty' | translate }}\"\n      >\n        <textarea\n          nz-input\n          [nzAutosize]=\"{ minRows: 10, maxRows: 10 }\"\n          formControlName=\"description\"\n        ></textarea>\n      </nz-form-control>\n    </nz-form-item>\n    <nz-form-item>\n      <nz-form-label>{{ 'common.category' | translate }}</nz-form-label>\n      <nz-form-control\n        nzHasFeedback\n        nzErrorTip=\"{{ 'ui.form.should_not_be_empty' | translate }}\"\n      >\n        <nz-tree-select\n          nzShowSearch\n          nzAllowClear\n          nzPlaceHolder=\"{{ 'common.category' | translate }}\"\n          class=\"w-100\"\n          [nzNodes]=\"categories\"\n          formControlName=\"categories\"\n          [nzMultiple]=\"true\"\n          [nzDropdownStyle]=\"{ 'max-height': '300px' }\"\n        ></nz-tree-select>\n      </nz-form-control>\n    </nz-form-item>\n    <nz-form-item>\n      <nz-form-label>{{ 'common.brand' | translate }}</nz-form-label>\n      <nz-form-control\n        nzHasFeedback\n        nzErrorTip=\"{{ 'ui.form.should_not_be_empty' | translate }}\"\n      >\n        <app-brand-select formControlName=\"brand\"></app-brand-select>\n      </nz-form-control>\n    </nz-form-item>\n    <nz-form-item>\n      <nz-form-label>{{ 'common.status' | translate }}</nz-form-label>\n      <nz-form-control>\n        <nz-switch formControlName=\"status\"></nz-switch>\n      </nz-form-control>\n    </nz-form-item>\n  </nz-card>\n  <nz-card class=\"mb-3\">\n    <div nz-row [nzGutter]=\"16\">\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"12\"\n        [nzXl]=\"12\"\n        [nzXXl]=\"12\"\n      >\n        <nz-form-item>\n          <nz-form-label>{{ 'common.price' | translate }}</nz-form-label>\n          <nz-form-control\n            nzHasFeedback\n            nzErrorTip=\"{{ 'ui.form.should_not_be_empty' | translate }}\"\n          >\n            <nz-input-number\n              formControlName=\"price\"\n              [nzMin]=\"1000\"\n              [nzStep]=\"5000\"\n              class=\"w-100\"\n              [nzFormatter]=\"formatterVnd\"\n            ></nz-input-number>\n          </nz-form-control>\n        </nz-form-item>\n      </div>\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"12\"\n        [nzXl]=\"12\"\n        [nzXXl]=\"12\"\n      >\n        <nz-form-item>\n          <nz-form-label>{{ 'common.measure' | translate }}</nz-form-label>\n          <nz-form-control\n            nzHasFeedback\n            nzErrorTip=\"{{ 'ui.form.should_not_be_empty' | translate }}\"\n          >\n            <input nz-input formControlName=\"measure\" />\n          </nz-form-control>\n        </nz-form-item>\n      </div>\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"12\"\n        [nzXl]=\"12\"\n        [nzXXl]=\"12\"\n      >\n        <nz-form-item>\n          <nz-form-label>{{\n            'product.rdi_packaging_unit' | translate\n          }}</nz-form-label>\n          <nz-form-control nzHasFeedback>\n            <nz-input-group [nzAddOnAfter]=\"packagingUnit\">\n              <nz-input-number\n                formControlName=\"rdi\"\n                [nzMin]=\"1\"\n                [nzStep]=\"1\"\n                class=\"w-100\"\n              ></nz-input-number>\n            </nz-input-group>\n            <ng-template #packagingUnit>\n              <nz-select formControlName=\"packagingUnit\" class=\"unit\">\n                <nz-option\n                  *ngFor=\"let unit of packagingUnits\"\n                  [nzValue]=\"unit\"\n                  [nzLabel]=\"unit\"\n                ></nz-option>\n              </nz-select>\n            </ng-template>\n          </nz-form-control>\n        </nz-form-item>\n      </div>\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"12\"\n        [nzXl]=\"12\"\n        [nzXXl]=\"12\"\n      >\n        <nz-form-item>\n          <nz-form-label>{{\n            'product.net_weight_per_package' | translate\n          }}</nz-form-label>\n          <nz-form-control nzHasFeedback>\n            <nz-input-group [nzAddOnAfter]=\"weightAddOnAfterTemplate\">\n              <nz-input-number\n                formControlName=\"netWeightPerPackage\"\n                class=\"w-100\"\n              ></nz-input-number>\n            </nz-input-group>\n            <ng-template #weightAddOnAfterTemplate>\n              <nz-select formControlName=\"weightUnit\" class=\"unit\">\n                <nz-option\n                  *ngFor=\"let unit of units\"\n                  [nzValue]=\"unit\"\n                  [nzLabel]=\"unit\"\n                ></nz-option>\n              </nz-select>\n            </ng-template>\n          </nz-form-control>\n        </nz-form-item>\n      </div>\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"12\"\n        [nzXl]=\"12\"\n        [nzXXl]=\"12\"\n      >\n        <nz-form-item>\n          <nz-form-label>{{\n            'product.net_volume_per_package' | translate\n          }}</nz-form-label>\n          <nz-form-control nzHasFeedback>\n            <nz-input-group [nzAddOnAfter]=\"volumeAddOnAfterTemplate\">\n              <nz-input-number\n                formControlName=\"netVolumePerPackage\"\n                class=\"w-100\"\n              ></nz-input-number>\n            </nz-input-group>\n            <ng-template #volumeAddOnAfterTemplate>\n              <nz-select formControlName=\"volumeUnit\" class=\"unit\">\n                <nz-option\n                  *ngFor=\"let unit of units\"\n                  [nzValue]=\"unit\"\n                  [nzLabel]=\"unit\"\n                ></nz-option>\n              </nz-select>\n            </ng-template>\n          </nz-form-control>\n        </nz-form-item>\n      </div>\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"12\"\n        [nzXl]=\"12\"\n        [nzXXl]=\"12\"\n      >\n        <nz-form-item>\n          <nz-form-label>{{\n            'product.energy_per_package' | translate\n          }}</nz-form-label>\n          <nz-form-control nzHasFeedback>\n            <nz-input-group [nzAddOnAfter]=\"energyAddOnAfterTemplate\">\n              <nz-input-number\n                formControlName=\"energyPerPackage\"\n                class=\"w-100\"\n              ></nz-input-number>\n            </nz-input-group>\n            <ng-template #energyAddOnAfterTemplate>\n              <nz-select formControlName=\"energyUnit\" class=\"unit\">\n                <nz-option\n                  *ngFor=\"let unit of units\"\n                  [nzValue]=\"unit\"\n                  [nzLabel]=\"unit\"\n                ></nz-option>\n              </nz-select>\n            </ng-template>\n          </nz-form-control>\n        </nz-form-item>\n      </div>\n    </div>\n    <nz-form-item>\n      <nz-form-label>{{ 'common.barcode' | translate }}</nz-form-label>\n      <nz-form-control nzHasFeedback>\n        <ng-select\n          bindLabel=\"value\"\n          formControlName=\"barcodes\"\n          [hideSelected]=\"true\"\n          [multiple]=\"true\"\n          [clearable]=\"true\"\n          [addTag]=\"true\"\n        ></ng-select>\n      </nz-form-control>\n    </nz-form-item>\n  </nz-card>\n  <nz-card class=\"mb-3\">\n    <nz-form-item>\n      <nz-form-label>{{ 'event.cover' | translate }}</nz-form-label>\n      <nz-form-control>\n        <nz-upload\n          class=\"cover-uploader\"\n          [nzBeforeUpload]=\"beforeUploadThumbnail\"\n          [nzShowUploadList]=\"false\"\n          nzListType=\"picture-card\"\n        >\n          <ng-container *ngIf=\"!thumbnailImage\">\n            <i\n              class=\"upload-icon\"\n              nz-icon\n              nzType=\"camera\"\n              nzTheme=\"outline\"\n            ></i>\n          </ng-container>\n          <img\n            *ngIf=\"thumbnailImage\"\n            [src]=\"\n              thumbnailFile\n                ? thumbnailImage?.url\n                : product?.thumbnail?.small?.url || ''\n            \"\n            [appImgFallback]=\"product?.thumbnail?.url || []\"\n            style=\"width: 100%\"\n          />\n        </nz-upload>\n      </nz-form-control>\n    </nz-form-item>\n    <div nz-row>\n      <ng-container *ngIf=\"!validateForm.get('videoTitle'); else elseVideo\">\n        <button\n          nz-button\n          nzType=\"dashed\"\n          class=\"mb-2\"\n          type=\"button\"\n          (click)=\"addVideo()\"\n        >\n          <i nz-icon nzType=\"plus\"></i>\n          {{ 'product.add_video' | translate }}\n        </button>\n      </ng-container>\n      <ng-template #elseVideo>\n        <button\n          nz-button\n          nzType=\"dashed\"\n          nzDanger\n          class=\"mb-2\"\n          type=\"button\"\n          (click)=\"removeVideo()\"\n        >\n          <i nz-icon nzType=\"minus\"></i>\n          {{ 'product.remove_video' | translate }}\n        </button>\n      </ng-template>\n    </div>\n    <div nz-row [nzGutter]=\"16\" *ngIf=\"validateForm.get('videoTitle')\">\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"12\"\n        [nzXl]=\"12\"\n        [nzXXl]=\"12\"\n      >\n        <nz-form-item>\n          <nz-form-label>{{ 'product.video_title' | translate }}</nz-form-label>\n          <nz-form-control>\n            <input nz-input formControlName=\"videoTitle\" />\n          </nz-form-control>\n        </nz-form-item>\n      </div>\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"12\"\n        [nzXl]=\"12\"\n        [nzXXl]=\"12\"\n      >\n        <nz-form-item>\n          <nz-form-label>{{ 'product.video_url' | translate }}</nz-form-label>\n          <nz-form-control>\n            <input nz-input formControlName=\"videoUrl\" />\n          </nz-form-control>\n        </nz-form-item>\n      </div>\n    </div>\n    <div nz-row>\n      <ng-container\n        *ngIf=\"!validateForm.get('imageDescription'); else elseImageDescription\"\n      >\n        <button\n          nz-button\n          nzType=\"dashed\"\n          class=\"mb-2\"\n          type=\"button\"\n          (click)=\"addImageDescription()\"\n        >\n          <i nz-icon nzType=\"plus\"></i>\n          {{ 'product.add_image_description' | translate }}\n        </button>\n      </ng-container>\n      <ng-template #elseImageDescription>\n        <button\n          nz-button\n          nzType=\"dashed\"\n          nzDanger\n          class=\"mb-2\"\n          type=\"button\"\n          (click)=\"removeImageDescription()\"\n        >\n          <i nz-icon nzType=\"minus\"></i>\n          {{ 'product.remove_image_description' | translate }}\n        </button>\n      </ng-template>\n    </div>\n    <nz-form-item *ngIf=\"validateForm.get('imageDescription')\">\n      <nz-form-label>{{\n        'product.image_description' | translate\n      }}</nz-form-label>\n      <nz-form-control>\n        <editor\n          apiKey=\"fogegal2uijx4gnuleljxppluzgepbi58urxfi2k5ul8y79d\"\n          formControlName=\"imageDescription\"\n          [init]=\"{\n            height: 500,\n            menubar: true,\n            images_upload_handler: handleUploadImage,\n            plugins: [\n              'print preview fullpage paste importcss searchreplace autolink autosave save directionality code visualblocks',\n              'visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc',\n              'insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons'\n            ],\n            toolbar:\n              'undo redo | bold italic underline strikethrough | \\\n      fontselect fontsizeselect formatselect | \\\n      alignleft aligncenter alignright alignjustify | \\\n      outdent indent |  numlist bullist checklist | \\\n      forecolor backcolor casechange permanentpen formatpainter removeformat | \\\n      pagebreak | charmap emoticons | fullscreen  preview save print | \\\n      insertfile image media pageembed template link anchor codesample | a11ycheck ltr rtl | showcomments addcomment'\n          }\"\n        >\n        </editor>\n      </nz-form-control>\n    </nz-form-item>\n  </nz-card>\n  <nz-card class=\"mb-3\">\n    <nz-form-item>\n      <nz-form-label>{{ 'product.web_url' | translate }}</nz-form-label>\n      <nz-form-control\n        nzHasFeedback\n        nzErrorTip=\"{{ 'ui.form.should_not_be_empty' | translate }}\"\n      >\n        <nz-input-group [nzSuffix]=\"suffixTemplate\">\n          <input nz-input formControlName=\"slug\" />\n          <ng-template #suffixTemplate>\n            <i\n              nz-icon\n              nzType=\"sync\"\n              nzTheme=\"outline\"\n              nz-tooltip\n              [nzTooltipTitle]=\"'product.create_slug_from_name' | translate\"\n              (click)=\"generateSlug()\"\n            ></i>\n          </ng-template> </nz-input-group\n      ></nz-form-control>\n    </nz-form-item>\n  </nz-card>\n  <nz-card class=\"mb-3\">\n    <nz-form-item>\n      <button\n        nz-button\n        nzType=\"dashed\"\n        type=\"button\"\n        (click)=\"openIngredientAnalysis()\"\n        nzBlock\n      >\n        {{ 'ingredient.analyze_from_cosdna_skincarisma' | translate }}\n      </button>\n    </nz-form-item>\n    <nz-form-item>\n      <nz-input-group [nzAddOnAfter]=\"addIngredientsBtn\" nzSearch>\n        <app-ingredient-select\n          [(ngModel)]=\"selectedIngredients\"\n          [ngModelOptions]=\"{ standalone: true }\"\n        ></app-ingredient-select>\n      </nz-input-group>\n      <ng-template #addIngredientsBtn>\n        <button\n          nz-button\n          nzType=\"primary\"\n          type=\"button\"\n          (click)=\"addIngredients()\"\n          nzSearch\n        >\n          <i nz-icon nzType=\"down\" nzTheme=\"outline\"></i>\n          {{ 'product.import_ingredients' | translate }}\n        </button>\n      </ng-template>\n    </nz-form-item>\n    <nz-form-item>\n      <nz-form-label>{{ 'common.ingredient' | translate }}</nz-form-label>\n      <nz-form-control nzHasFeedback>\n        <nz-table\n          #ingredientsTable\n          nzTableLayout=\"fixed\"\n          formArrayName=\"ingredients\"\n          [nzData]=\"ingredients.controls\"\n          [nzPageSize]=\"10\"\n        >\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>{{ 'ingredient.name' | translate }}</th>\n              <th>{{ 'ingredient.content' | translate }}</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr\n              *ngFor=\"let ingredient of ingredientsTable.data; let i = index\"\n              [formGroupName]=\"\n                (ingredientsTable.nzPageIndex - 1) *\n                  ingredientsTable.nzPageSize +\n                i\n              \"\n            >\n              <td>{{ ingredient.value.id }}</td>\n              <td>{{ ingredient.value.name }}</td>\n              <td>\n                <nz-input-group [nzAddOnAfter]=\"unitTemplate\">\n                  <nz-input-number\n                    formControlName=\"amount\"\n                    type=\"number\"\n                    class=\"w-100\"\n                  ></nz-input-number>\n                </nz-input-group>\n                <ng-template #unitTemplate>\n                  <nz-select\n                    formControlName=\"amountUnit\"\n                    nzAllowClear\n                    class=\"unit\"\n                  >\n                    <nz-option\n                      *ngFor=\"let unit of units\"\n                      [nzValue]=\"unit\"\n                      [nzLabel]=\"unit\"\n                    ></nz-option>\n                  </nz-select>\n                </ng-template>\n              </td>\n              <td>\n                <button\n                  nz-button\n                  nzType=\"text\"\n                  nzDanger\n                  (click)=\"removeIngredient(i)\"\n                >\n                  <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </nz-table>\n      </nz-form-control>\n    </nz-form-item>\n  </nz-card>\n  <nz-form-item class=\"mt-2 pb-4\">\n    <nz-form-control>\n      <nz-input-group>\n        <button nz-button nzType=\"primary\" [nzLoading]=\"loading\">\n          {{ (product?.id ? 'common.update' : 'common.add') | translate }}\n        </button>\n        <button\n          nz-button\n          [nzDanger]=\"true\"\n          class=\"ml-2\"\n          type=\"button\"\n          (click)=\"cancel()\"\n        >\n          {{ 'common.cancel' | translate }}\n        </button>\n      </nz-input-group>\n    </nz-form-control>\n  </nz-form-item>\n</form>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { QueryRef } from 'apollo-angular';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzTableQueryParams } from 'ng-zorro-antd/table';\nimport { NzTreeNodeOptions } from 'ng-zorro-antd/tree';\nimport { Subject, Subscription } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport {\n  Brand,\n  GetHierarchicalCategoriesGQL,\n  GetProductListGQL,\n  GetProductListQuery,\n  GetProductListQueryVariables,\n  OrderBy,\n  ProductListFieldsFragment,\n  ProductStatus,\n  SearchBrandsGQL,\n} from '../../../../graphql/graphql';\n\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.scss'],\n})\nexport class ProductListComponent implements OnInit, OnDestroy {\n  ProductStatus = ProductStatus;\n  destroy$: Subject<boolean> = new Subject();\n  products: Array<ProductListFieldsFragment> = [];\n  productsCount = 0;\n  pageIndex = 1;\n  pageSize = 10;\n  loading = false;\n  dataQueryRef:\n    | QueryRef<GetProductListQuery, GetProductListQueryVariables>\n    | undefined;\n  dataSubscription: Subscription | undefined;\n\n  categories: Array<NzTreeNodeOptions> = [];\n  searchForm: FormGroup;\n  categoryId?: number;\n  brandId?: number;\n  text?: string;\n  status?: ProductStatus;\n\n  constructor(\n    private getProductListGQL: GetProductListGQL,\n    private getHierarchicalCategoriesGQL: GetHierarchicalCategoriesGQL,\n    private searchBrandsGQL: SearchBrandsGQL,\n    private route: ActivatedRoute,\n    private router: Router,\n    private msgService: NzMessageService,\n    private translateService: TranslateService,\n    private fb: FormBuilder,\n  ) {\n    this.searchForm = this.fb.group({\n      product: [null],\n      brand: [null],\n      category: [null],\n      status: [undefined],\n    });\n  }\n\n  ngOnInit(): void {\n    this.route.queryParamMap\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((paramMap) => {\n        this.pageIndex = parseInt(paramMap.get('page') || '1', 10);\n        this.pageSize = parseInt(paramMap.get('size') || '10', 10);\n        this.categoryId =\n          parseInt(paramMap.get('category') || '0', 10) || undefined;\n        this.brandId = parseInt(paramMap.get('brand') || '0', 10) || undefined;\n        this.text = paramMap.get('text') || '';\n        this.status = Object.values(ProductStatus).includes(\n          paramMap.get('status') as ProductStatus,\n        )\n          ? (paramMap.get('status') as ProductStatus)\n          : undefined;\n\n        this.patchFormValue();\n\n        if (this.dataSubscription) {\n          this.refetch();\n        } else {\n          this.dataQueryRef = this.getProductListGQL.watch(\n            this.getVariables(),\n            {\n              notifyOnNetworkStatusChange: true,\n              fetchPolicy: 'network-only',\n            },\n          );\n          this.dataSubscription = this.dataQueryRef.valueChanges\n            .pipe(takeUntil(this.destroy$))\n            .subscribe(({ data, loading, error, errors }) => {\n              this.loading = loading;\n              if (loading) {\n                return;\n              }\n\n              if (error || errors) {\n                this.msgService.error(\n                  this.translateService.instant('ui.message.can_not_load_data'),\n                );\n                return;\n              }\n\n              if (data) {\n                this.products = data.products;\n                this.productsCount = data.productsConnection.aggregate.count;\n              }\n            });\n        }\n      });\n\n    this.getHierarchicalCategoriesGQL\n      .fetch()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(({ data, error, errors }) => {\n        if (error || errors) {\n        }\n\n        if (data) {\n          this.categories = data.categories.map((category) => {\n            return {\n              // tslint:disable-next-line: deprecation\n              key: `${category.id}`,\n              title: category.translations?.[0]?.name,\n              isLeaf: false,\n              children: category.children?.map((child) => {\n                return {\n                  // tslint:disable-next-line: deprecation\n                  key: `${child.id}`,\n                  title: child.translations?.[0]?.name,\n                  isLeaf: true,\n                };\n              }),\n            };\n          });\n        }\n      });\n  }\n\n  patchFormValue(): void {\n    if (this.categoryId && this.searchForm.controls.category.untouched) {\n      this.searchForm.patchValue({\n        category: `${this.categoryId}`,\n      });\n    }\n\n    if (\n      this.brandId &&\n      this.searchForm.controls.brand.untouched &&\n      this.searchForm.controls.brand.pristine\n    ) {\n      this.searchBrandsGQL\n        .fetch({\n          where: {\n            id: this.brandId,\n          },\n          first: 1,\n        })\n        .pipe(takeUntil(this.destroy$))\n        .subscribe(({ data }) => {\n          if (data?.brands?.length) {\n            this.searchForm.patchValue({\n              brand: {\n                name: data.brands[0].translations?.[0]?.name,\n                brand: {\n                  // tslint:disable-next-line: deprecation\n                  id: data.brands[0].id,\n                } as Brand,\n              },\n            });\n          }\n        });\n    }\n\n    if (this.text && this.searchForm.controls.product.untouched) {\n      this.searchForm.patchValue({\n        product: this.text,\n      });\n    }\n\n    if (this.searchForm.controls.status.untouched) {\n      this.searchForm.patchValue({\n        status: this.status || undefined,\n      });\n    }\n  }\n\n  refetch(): void {\n    this.dataQueryRef?.refetch(this.getVariables());\n  }\n\n  private getVariables(): GetProductListQueryVariables {\n    return {\n      where: {\n        nameContains: this.text || undefined,\n        categoriesSome: {\n          id: this.categoryId || undefined,\n        },\n        brand: {\n          id: this.brandId || undefined,\n        },\n        status: this.status || undefined,\n      },\n      first: this.pageSize,\n      skip: (this.pageIndex - 1) * this.pageSize,\n      orderBy: [\n        {\n          id: OrderBy.Desc,\n        },\n      ],\n    };\n  }\n\n  handleQueryParamsChange(params: NzTableQueryParams): void {\n    this.router.navigate([], {\n      queryParams: {\n        page: params.pageIndex,\n        size: params.pageSize,\n      },\n      relativeTo: this.route,\n      queryParamsHandling: 'merge',\n    });\n  }\n\n  handleSearch(): void {\n    const searchData = this.searchForm.value;\n    const brandId = searchData.brand?.brand.id || undefined;\n    const categoryId = parseInt(searchData.category, 10) || undefined;\n    const text = searchData.product || undefined;\n    const status = searchData.status || undefined;\n\n    this.router.navigate([], {\n      queryParams: {\n        text,\n        brand: brandId,\n        category: categoryId,\n        status,\n      },\n      relativeTo: this.route,\n      queryParamsHandling: 'merge',\n    });\n  }\n\n  trackById(index: number, item: any): number {\n    return item.id;\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.unsubscribe();\n  }\n}\n","<nz-page-header\n  class=\"site-page-header\"\n  nzTitle=\"{{ 'common.product' | translate }}\"\n>\n  <nz-breadcrumb nz-page-header-breadcrumb>\n    <nz-breadcrumb-item>\n      <i nz-icon nzType=\"home\"></i>\n    </nz-breadcrumb-item>\n    <nz-breadcrumb-item>\n      <a>{{ 'common.product' | translate }}</a>\n    </nz-breadcrumb-item>\n  </nz-breadcrumb>\n  <nz-page-header-extra>\n    <button nz-button nzType=\"primary\" routerLink=\"/products/new\">\n      <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\n      {{ 'product.create' | translate }}\n    </button>\n  </nz-page-header-extra>\n</nz-page-header>\n<nz-card class=\"mb-3\">\n  <form nz-form [formGroup]=\"searchForm\" (ngSubmit)=\"handleSearch()\">\n    <div nz-row [nzGutter]=\"[16, 8]\">\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"24\"\n        [nzXl]=\"24\"\n        [nzXXl]=\"24\"\n      >\n        <nz-radio-group formControlName=\"status\">\n          <label\n            nz-radio-button\n            [nzValue]=\"undefined\"\n            (click)=\"handleSearch()\"\n            >{{ 'common.all' | translate }}</label\n          >\n          <label\n            nz-radio-button\n            [nzValue]=\"ProductStatus.Active\"\n            (click)=\"handleSearch()\"\n            >Active</label\n          >\n          <label\n            nz-radio-button\n            [nzValue]=\"ProductStatus.Inactive\"\n            (click)=\"handleSearch()\"\n            >Inactive</label\n          >\n        </nz-radio-group>\n      </div>\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"6\"\n        [nzXl]=\"6\"\n        [nzXXl]=\"6\"\n      >\n        <nz-tree-select\n          nzShowSearch\n          nzAllowClear\n          nzPlaceHolder=\"{{ 'common.category' | translate }}\"\n          class=\"w-100\"\n          [nzNodes]=\"categories\"\n          formControlName=\"category\"\n          [nzDropdownStyle]=\"{ 'max-height': '300px' }\"\n        ></nz-tree-select>\n      </div>\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"6\"\n        [nzXl]=\"6\"\n        [nzXXl]=\"6\"\n      >\n        <app-brand-select formControlName=\"brand\"></app-brand-select>\n      </div>\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"6\"\n        [nzXl]=\"6\"\n        [nzXXl]=\"6\"\n      >\n        <input\n          nz-input\n          formControlName=\"product\"\n          placeholder=\"{{ 'product.name' | translate }}\"\n        />\n      </div>\n      <div\n        nz-col\n        [nzXs]=\"24\"\n        [nzSm]=\"24\"\n        [nzMd]=\"24\"\n        [nzLg]=\"6\"\n        [nzXl]=\"6\"\n        [nzXXl]=\"6\"\n      >\n        <button nz-button nzType=\"primary\" type=\"submit\">\n          <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>\n          {{ 'common.search' | translate }}\n        </button>\n      </div>\n    </div>\n  </form>\n</nz-card>\n<nz-card class=\"mb-4\">\n  <nz-table\n    nzBordered\n    [nzData]=\"products\"\n    [nzFrontPagination]=\"false\"\n    [nzTotal]=\"productsCount\"\n    [nzPageIndex]=\"pageIndex\"\n    [nzPageSize]=\"pageSize\"\n    [nzLoading]=\"loading\"\n    (nzQueryParams)=\"handleQueryParamsChange($event)\"\n  >\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>{{ 'product.name' | translate }}</th>\n        <th>{{ 'common.brand' | translate }}</th>\n        <th>{{ 'common.category' | translate }}</th>\n        <th>{{ 'common.status' | translate }}</th>\n        <th></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let product of products; let i = index; trackBy: trackById\">\n        <td>{{ product.id }}</td>\n        <td>\n          <div class=\"d-flex justify-content-start align-items-center\">\n            <div\n              class=\"product-thumbnail mr-2 img-thumbnail flex-grow-0 flex-shrink-0\"\n            >\n              <img\n                [src]=\"product.thumbnail?.small?.url\"\n                [appImgFallback]=\"product.thumbnail?.url || []\"\n                loading=\"lazy\"\n              />\n            </div>\n            <span nz-typography>\n              <strong>{{ product.translations[0]?.name }}</strong>\n            </span>\n          </div>\n        </td>\n        <td>\n          <div class=\"brand-logo img-thumbnail\">\n            <img\n              [src]=\"product.brand.smallLogoUrl\"\n              [appImgFallback]=\"product.brand.logoUrl\"\n              loading=\"lazy\"\n            />\n          </div>\n        </td>\n        <td>\n          <nz-tag *ngFor=\"let category of product.categories\">{{\n            category.translations[0]?.name\n          }}</nz-tag>\n        </td>\n        <td>\n          <nz-tag\n            [nzColor]=\"\n              product.status === ProductStatus.Active ? 'success' : 'error'\n            \"\n            >{{ product.status }}</nz-tag\n          >\n        </td>\n        <td>\n          <a [routerLink]=\"['/products', product.id]\">{{\n            'common.edit' | translate\n          }}</a>\n        </td>\n      </tr>\n    </tbody>\n  </nz-table>\n</nz-card>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { QueryRef } from 'apollo-angular';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzTableQueryParams } from 'ng-zorro-antd/table';\nimport { Subject, Subscription } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\ndeclare const lightGallery: any;\n\nimport {\n  Gender,\n  GetProductRequestsGQL,\n  GetProductRequestsQuery,\n  GetProductRequestsQueryVariables,\n  OrderBy,\n  ProductRequestFieldFragment,\n  UpdateProductRequestGQL,\n} from '../../../../graphql/graphql';\n\n@Component({\n  selector: 'app-product-request-list',\n  templateUrl: './product-request-list.component.html',\n  styleUrls: ['./product-request-list.component.scss'],\n})\nexport class ProductRequestListComponent implements OnInit, OnDestroy {\n  Gender = Gender;\n  destroy$: Subject<boolean> = new Subject();\n  requests: Array<ProductRequestFieldFragment> = [];\n  requestsCount = 0;\n  pageIndex = 1;\n  pageSize = 10;\n  loading = false;\n  dataQueryRef:\n    | QueryRef<GetProductRequestsQuery, GetProductRequestsQueryVariables>\n    | undefined;\n  dataSubscription: Subscription | undefined;\n  switchings: Array<boolean> = [];\n\n  constructor(\n    private getProductRequestsGQL: GetProductRequestsGQL,\n    private route: ActivatedRoute,\n    private router: Router,\n    private msgService: NzMessageService,\n    private translateService: TranslateService,\n    private updateProductRequestGQL: UpdateProductRequestGQL,\n  ) {}\n\n  ngOnInit(): void {\n    this.route.queryParamMap\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((paramMap) => {\n        this.pageIndex = parseInt(paramMap.get('page') || '1', 10);\n        this.pageSize = parseInt(paramMap.get('size') || '10', 10);\n\n        if (this.dataSubscription) {\n          this.refetch();\n        } else {\n          this.dataQueryRef = this.getProductRequestsGQL.watch(\n            this.getVariables(),\n            {\n              notifyOnNetworkStatusChange: true,\n              fetchPolicy: 'network-only',\n            },\n          );\n          this.dataSubscription = this.dataQueryRef.valueChanges\n            .pipe(takeUntil(this.destroy$))\n            .subscribe(({ data, loading, error, errors }) => {\n              this.loading = loading;\n              if (loading) {\n                return;\n              }\n\n              if (error || errors) {\n                this.msgService.error(\n                  this.translateService.instant('ui.message.can_not_load_data'),\n                );\n                return;\n              }\n\n              if (data) {\n                this.requests = [...data.productRequests];\n                this.requestsCount =\n                  data.productRequestsConnection.aggregate.count;\n                this.switchings = Array(this.requestsCount).fill(false);\n              }\n            });\n        }\n      });\n  }\n\n  refetch(): void {\n    this.dataQueryRef?.refetch(this.getVariables());\n  }\n\n  private getVariables(): GetProductRequestsQueryVariables {\n    return {\n      where: {},\n      first: this.pageSize,\n      skip: (this.pageIndex - 1) * this.pageSize,\n      orderBy: {\n        id: OrderBy.Desc,\n      },\n    };\n  }\n\n  handleQueryParamsChange(params: NzTableQueryParams): void {\n    this.router.navigate([], {\n      queryParams: {\n        page: params.pageIndex,\n        size: params.pageSize,\n      },\n      relativeTo: this.route,\n      queryParamsHandling: 'merge',\n    });\n  }\n\n  trackById(index: number, item: any): number {\n    return item.id;\n  }\n\n  viewImages(images: string[], requestId: number): void {\n    lightGallery(document.getElementById(`lightgallery_${requestId}`), {\n      dynamic: true,\n      dynamicEl: images.map((src) => ({\n        src,\n      })),\n    });\n  }\n\n  updateStatus(request: ProductRequestFieldFragment, index: number): void {\n    this.switchings[index] = true;\n    this.updateProductRequestGQL\n      .mutate(\n        {\n          where: {\n            id: request.id,\n          },\n          data: {\n            isDone: !request.isDone,\n          },\n        },\n        {\n          errorPolicy: 'all',\n        },\n      )\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(\n        ({ errors, data }) => {\n          this.switchings[index] = false;\n          if (errors) {\n            this.msgService.error(\n              this.translateService.instant('product.update_status_error'),\n            );\n            return;\n          }\n\n          if (data) {\n            this.msgService.success(\n              this.translateService.instant('product.update_status_success'),\n            );\n            this.requests[index] = {\n              ...request,\n              isDone: !request.isDone,\n            };\n            this.requests = [...this.requests];\n          }\n        },\n        () => {\n          this.msgService.error(\n            this.translateService.instant('product.update_status_error'),\n          );\n          this.switchings[index] = false;\n        },\n      );\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.unsubscribe();\n  }\n}\n","<nz-page-header\n  class=\"site-page-header\"\n  nzTitle=\"{{ 'product.request' | translate }}\"\n>\n  <nz-breadcrumb nz-page-header-breadcrumb>\n    <nz-breadcrumb-item>\n      <i nz-icon nzType=\"home\"></i>\n    </nz-breadcrumb-item>\n    <nz-breadcrumb-item>\n      <a>{{ 'common.product' | translate }}</a>\n    </nz-breadcrumb-item>\n    <nz-breadcrumb-item>\n      <a>{{ 'product.request' | translate }}</a>\n    </nz-breadcrumb-item>\n  </nz-breadcrumb>\n</nz-page-header>\n<nz-card class=\"mb-4\">\n  <nz-table\n    nzBordered\n    [nzData]=\"requests\"\n    [nzFrontPagination]=\"false\"\n    [nzTotal]=\"requestsCount\"\n    [nzPageIndex]=\"pageIndex\"\n    [nzPageSize]=\"pageSize\"\n    [nzLoading]=\"loading\"\n    (nzQueryParams)=\"handleQueryParamsChange($event)\"\n  >\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>{{ 'common.user' | translate }}</th>\n        <th>{{ 'common.content' | translate }}</th>\n        <th>{{ 'common.image' | translate }}</th>\n        <th>{{ 'common.created_at' | translate }}</th>\n        <th>{{ 'common.status' | translate }}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let request of requests; let i = index; trackBy: trackById\">\n        <td>\n          {{ request.id }}\n          <div class=\"d-none\" id=\"{{ 'lightgallery_' + request.id }}\"></div>\n        </td>\n        <td>\n          <div class=\"d-flex justify-content-between align-items-center\">\n            <div class=\"avatar mr-2 flex-grow-0 flex-shrink-0\">\n              <img\n                [src]=\"request.user.avatar?.small?.url\"\n                [appImgFallback]=\"request.user.avatar?.url || []\"\n                *ngIf=\"!!request.user.avatar?.url\"\n              />\n              <nz-avatar\n                [nzText]=\"request.user.account | slice: 0:2\"\n                *ngIf=\"!request.user.avatar\"\n              ></nz-avatar>\n            </div>\n            <div class=\"d-flex flex-column flex-grow-1\">\n              <span nz-typography\n                ><strong>{{ request.user.account }}</strong\n                >&nbsp;\n                <i\n                  nz-icon\n                  [nzType]=\"\n                    request.user.gender === Gender.Male ? 'man' : 'woman'\n                  \"\n                ></i\n              ></span>\n            </div>\n          </div>\n        </td>\n        <td nzBreakWord>{{ request.content }}</td>\n        <td>\n          <button\n            nz-button\n            nzType=\"dashed\"\n            *ngIf=\"!!request.images?.length\"\n            (click)=\"viewImages(request.images!, request.id)\"\n          >\n            <i nz-icon>\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                />\n              </svg>\n            </i>\n            {{ 'product.view_image' | translate }}\n          </button>\n        </td>\n        <td>{{ request.createdAt | date: 'short' }}</td>\n        <td>\n          <nz-switch\n            [ngModel]=\"request.isDone\"\n            [nzControl]=\"true\"\n            [nzLoading]=\"switchings[i]\"\n            (click)=\"updateStatus(request, i)\"\n          ></nz-switch>\n        </td>\n      </tr></tbody\n  ></nz-table>\n</nz-card>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProductDetailsComponent } from './pages/product-details/product-details.component';\nimport { ProductListComponent } from './pages/product-list/product-list.component';\nimport { ProductRequestListComponent } from './pages/product-request-list/product-request-list.component';\nimport { ProductResolver } from './resolvers/product.resolver';\n\nconst routes: Routes = [\n  {\n    path: 'new',\n    component: ProductDetailsComponent,\n    resolve: {\n      product: ProductResolver,\n    },\n  },\n  {\n    path: 'requests',\n    component: ProductRequestListComponent,\n  },\n  {\n    path: ':id',\n    component: ProductDetailsComponent,\n    resolve: {\n      product: ProductResolver,\n    },\n  },\n  { path: '', pathMatch: 'full', component: ProductListComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.scss']\n})\nexport class ProductComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>product works!</p>\n","import { HttpClientModule } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NzPageHeaderModule } from 'ng-zorro-antd/page-header';\nimport { NzBreadCrumbModule } from 'ng-zorro-antd/breadcrumb';\nimport { NzTableModule } from 'ng-zorro-antd/table';\nimport { NzCardModule } from 'ng-zorro-antd/card';\nimport { NzMessageModule } from 'ng-zorro-antd/message';\nimport { NzTagModule } from 'ng-zorro-antd/tag';\nimport { NzTypographyModule } from 'ng-zorro-antd/typography';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzFormModule } from 'ng-zorro-antd/form';\nimport { NzGridModule } from 'ng-zorro-antd/grid';\nimport { NzTreeSelectModule } from 'ng-zorro-antd/tree-select';\nimport { NzInputModule } from 'ng-zorro-antd/input';\nimport { NzInputNumberModule } from 'ng-zorro-antd/input-number';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { EditorModule } from '@tinymce/tinymce-angular';\nimport { NzUploadModule } from 'ng-zorro-antd/upload';\nimport { NzCheckboxModule } from 'ng-zorro-antd/checkbox';\nimport { NzSwitchModule } from 'ng-zorro-antd/switch';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\nimport { NzRadioModule } from 'ng-zorro-antd/radio';\nimport { NzAvatarModule } from 'ng-zorro-antd/avatar';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NzModalModule } from 'ng-zorro-antd/modal';\nimport { LayoutModule } from '@angular/cdk/layout';\nimport { NzDrawerModule } from 'ng-zorro-antd/drawer';\n\nimport { ProductRoutingModule } from './product-routing.module';\nimport { ProductComponent } from './product.component';\nimport { ProductListComponent } from './pages/product-list/product-list.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { ProductDetailsComponent } from './pages/product-details/product-details.component';\nimport { ProductRequestListComponent } from './pages/product-request-list/product-request-list.component';\nimport { IngredientAnalysisComponent } from './components/ingredient-analysis/ingredient-analysis.component';\nimport { IngredientModule } from '../ingredient/ingredient.module';\n\n@NgModule({\n  declarations: [\n    ProductComponent,\n    ProductListComponent,\n    ProductDetailsComponent,\n    ProductRequestListComponent,\n    IngredientAnalysisComponent,\n  ],\n  imports: [\n    CommonModule,\n    ProductRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    LayoutModule,\n    SharedModule,\n    IngredientModule,\n    TranslateModule.forChild(),\n    NzPageHeaderModule,\n    NzBreadCrumbModule,\n    NzTableModule,\n    NzCardModule,\n    NzMessageModule,\n    NzTagModule,\n    NzTypographyModule,\n    NzButtonModule,\n    NzIconModule,\n    NzFormModule,\n    NzGridModule,\n    NzTreeSelectModule,\n    NzInputModule,\n    NzInputNumberModule,\n    NzSelectModule,\n    EditorModule,\n    NzUploadModule,\n    NzCheckboxModule,\n    NzSwitchModule,\n    NgSelectModule,\n    NzToolTipModule,\n    NzRadioModule,\n    NzAvatarModule,\n    NzModalModule,\n    NzDrawerModule,\n  ],\n})\nexport class ProductModule {}\n"],"names":[],"sourceRoot":"webpack:///"}